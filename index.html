<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£–≥–∞–¥–∞–π —Ñ–ª–∞–≥</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background: url('https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/World_map_blank_without_borders.svg/2000px-World_map_blank_without_borders.svg.png') no-repeat center center fixed;
            background-size: cover;
            color: black;
        }
        .menu {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        .btn {
            padding: 15px 30px;
            font-size: 20px;
            margin: 10px;
            cursor: pointer;
            display: block;
            width: 200px;
            text-align: center;
        }
        .game {
            display: none;
        }
        .correct {
            background-color: green;
            color: white;
        }
        .incorrect {
            background-color: red;
            color: white;
        }
        #options {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
        }
        #options button {
            margin: 5px;
        }
        #score {
            font-size: 20px;
            margin-top: 20px;
        }
        #game-over {
            font-size: 24px;
            color: red;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div id="menu" class="menu">
        <h1>–£–≥–∞–¥–∞–π —Ñ–ª–∞–≥</h1>
        <button class="btn" onclick="startGame('europe')">üá™üá∫ –ï–≤—Ä–æ–ø–∞</button>
        <button class="btn" onclick="startGame('asia')">üåè –ê–∑–∏—è</button>
        <button class="btn" onclick="startGame('africa')">üåç –ê—Ñ—Ä–∏–∫–∞</button>
        <button class="btn" onclick="startGame('southAmerica')">üå¥ –Æ–∂–Ω–∞—è –ê–º–µ—Ä–∏–∫–∞</button>
        <button class="btn" onclick="startGame('northAmerica')">üåé –°–µ–≤–µ—Ä–Ω–∞—è –ê–º–µ—Ä–∏–∫–∞</button>
        <button class="btn" onclick="startGame('oceania')">üåä –û–∫–µ–∞–Ω–∏—è</button>
    </div>
    <div id="game" class="game">
        <h2 id="level-title">–£—Ä–æ–≤–µ–Ω—å</h2>
        <img id="flag" src="" alt="–§–ª–∞–≥" width="300">
        <div id="options"></div>
        <p id="score">–û—á–∫–∏: 0 | –ñ–∏–∑–Ω–∏: 3</p>
        <p id="game-over"></p>
        <button class="btn" onclick="returnToMenu()">‚¨Ö –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é</button>
    </div>

    <script>
        let currentScore = 0;
        let lives = 3;
        let currentRegion = "";
        
        const flags = {
            europe: [
                { country: "–ê–≤—Å—Ç—Ä–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/4/41/Flag_of_Austria.svg" },
                { country: "–ì–µ—Ä–º–∞–Ω–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/b/ba/Flag_of_Germany.svg" },
                { country: "–§—Ä–∞–Ω—Ü–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/c/c3/Flag_of_France.svg" },
                { country: "–ò—Ç–∞–ª–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/0/03/Flag_of_Italy.svg" },
                { country: "–ò—Å–ø–∞–Ω–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/9/9a/Flag_of_Spain.svg" },
                { country: "–ü–æ—Ä—Ç—É–≥–∞–ª–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/5/5c/Flag_of_Portugal.svg" },
                { country: "–ë–µ–ª—å–≥–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/9/92/Flag_of_Belgium_%28civil%29.svg" },
                { country: "–ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã", src: "https://upload.wikimedia.org/wikipedia/commons/2/20/Flag_of_the_Netherlands.svg" },
                { country: "–®–≤–µ–π—Ü–∞—Ä–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/f/f3/Flag_of_Switzerland.svg" },
                { country: "–®–≤–µ—Ü–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/4/4c/Flag_of_Sweden.svg" },
                { country: "–ù–æ—Ä–≤–µ–≥–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/d/d9/Flag_of_Norway.svg" },
                { country: "–î–∞–Ω–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/9/9c/Flag_of_Denmark.svg" },
                { country: "–ü–æ–ª—å—à–∞", src: "https://upload.wikimedia.org/wikipedia/commons/1/12/Flag_of_Poland.svg" },
                { country: "–ì—Ä–µ—Ü–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/5/5c/Flag_of_Greece.svg" },
                { country: "–§–∏–Ω–ª—è–Ω–¥–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/b/bc/Flag_of_Finland.svg" }
            ],
            asia: [
                { country: "–ö–∏—Ç–∞–π", src: "https://upload.wikimedia.org/wikipedia/commons/f/fa/Flag_of_the_People%27s_Republic_of_China.svg" },
                { country: "–ò–Ω–¥–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/4/41/Flag_of_India.svg" },
                { country: "–Ø–ø–æ–Ω–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/9/9e/Flag_of_Japan.svg" },
                { country: "–Æ–∂–Ω–∞—è –ö–æ—Ä–µ—è", src: "https://upload.wikimedia.org/wikipedia/commons/0/09/Flag_of_South_Korea.svg" },
                { country: "–ò–Ω–¥–æ–Ω–µ–∑–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/9/9f/Flag_of_Indonesia.svg" },
                { country: "–ü–∞–∫–∏—Å—Ç–∞–Ω", src: "https://upload.wikimedia.org/wikipedia/commons/3/32/Flag_of_Pakistan.svg" },
                { country: "–ò—Ä–∞–Ω", src: "https://upload.wikimedia.org/wikipedia/commons/c/ca/Flag_of_Iran.svg" },
                { country: "–ú–æ–Ω–≥–æ–ª–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/4/4c/Flag_of_Mongolia.svg" },
                { country: "–ë–∞–Ω–≥–ª–∞–¥–µ—à", src: "https://upload.wikimedia.org/wikipedia/commons/f/f9/Flag_of_Bangladesh.svg" },
                { country: "–¢—É—Ä—Ü–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/b/b4/Flag_of_Turkey.svg" },
                { country: "–í—å–µ—Ç–Ω–∞–º", src: "https://upload.wikimedia.org/wikipedia/commons/2/21/Flag_of_Vietnam.svg" },
                { country: "–§–∏–ª–∏–ø–ø–∏–Ω—ã", src: "https://upload.wikimedia.org/wikipedia/commons/9/99/Flag_of_the_Philippines.svg" },
                { country: "–°–∏—Ä–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/b/b8/Flag_of_Syria_%281930%E2%80%931958%2C_1961%E2%80%931963%29.svg" },
                { country: "–ò—Ä–∞–∫", src: "https://upload.wikimedia.org/wikipedia/commons/f/f6/Flag_of_Iraq.svg" }
            ],
            africa: [
                { country: "–ù–∏–≥–µ—Ä–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/7/79/Flag_of_Nigeria.svg" },
                { country: "–Æ–∂–Ω–æ–∞—Ñ—Ä–∏–∫–∞–Ω—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞", src: "https://upload.wikimedia.org/wikipedia/commons/a/af/Flag_of_South_Africa.svg" },
                { country: "–ï–≥–∏–ø–µ—Ç", src: "https://upload.wikimedia.org/wikipedia/commons/f/fe/Flag_of_Egypt.svg" },
                { country: "–≠—Ñ–∏–æ–ø–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/7/71/Flag_of_Ethiopia.svg" },
                { country: "–ö–µ–Ω–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/4/49/Flag_of_Kenya.svg" },
                { country: "–°—É–¥–∞–Ω", src: "https://upload.wikimedia.org/wikipedia/commons/0/01/Flag_of_Sudan.svg" },
                { country: "–ê–ª–∂–∏—Ä", src: "https://upload.wikimedia.org/wikipedia/commons/7/77/Flag_of_Algeria.svg" },
                { country: "–ú–æ–∑–∞–º–±–∏–∫", src: "https://upload.wikimedia.org/wikipedia/commons/d/d0/Flag_of_Mozambique.svg" },
                { country: "–ì–∞–Ω–∞", src: "https://upload.wikimedia.org/wikipedia/commons/1/19/Flag_of_Ghana.svg" },
                { country: "–ö–æ—Ç-–¥'–ò–≤—É–∞—Ä", src: "https://upload.wikimedia.org/wikipedia/commons/f/fe/Flag_of_C%C3%B4te_d%27Ivoire.svg" },
                { country: "–ì–∞–±–æ–Ω", src: "https://upload.wikimedia.org/wikipedia/commons/0/04/Flag_of_Gabon.svg" },
                { country: "–ì–≤–∏–Ω–µ—è", src: "https://upload.wikimedia.org/wikipedia/commons/e/ed/Flag_of_Guinea.svg" },
                { country: "–ú–∞–ª–∏", src: "https://upload.wikimedia.org/wikipedia/commons/9/92/Flag_of_Mali.svg" },
                { country: "–õ–∏–≤–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/0/05/Flag_of_Libya.svg" }
            ],
            southAmerica: [
                { country: "–ë—Ä–∞–∑–∏–ª–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/0/05/Flag_of_Brazil.svg" },
                { country: "–ê—Ä–≥–µ–Ω—Ç–∏–Ω–∞", src: "https://upload.wikimedia.org/wikipedia/commons/1/1a/Flag_of_Argentina.svg" },
                { country: "–ö–æ–ª—É–º–±–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/2/21/Flag_of_Colombia.svg" },
                { country: "–ß–∏–ª–∏", src: "https://upload.wikimedia.org/wikipedia/commons/7/78/Flag_of_Chile.svg" },
                { country: "–ü–µ—Ä—É", src: "https://upload.wikimedia.org/wikipedia/commons/c/cf/Flag_of_Peru.svg" },
                { country: "–í–µ–Ω–µ—Å—É—ç–ª–∞", src: "https://upload.wikimedia.org/wikipedia/commons/0/06/Flag_of_Venezuela.svg" },
                { country: "–≠–∫–≤–∞–¥–æ—Ä", src: "https://upload.wikimedia.org/wikipedia/commons/e/e8/Flag_of_Ecuador.svg" },
                { country: "–ü–∞—Ä–∞–≥–≤–∞–π", src: "https://upload.wikimedia.org/wikipedia/commons/2/27/Flag_of_Paraguay.svg" },
                { country: "–ë–æ–ª–∏–≤–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/4/48/Flag_of_Bolivia.svg" },
                { country: "–£—Ä—É–≥–≤–∞–π", src: "https://upload.wikimedia.org/wikipedia/commons/f/fe/Flag_of_Uruguay.svg" },
                { country: "–°—É—Ä–∏–Ω–∞–º", src: "https://upload.wikimedia.org/wikipedia/commons/6/60/Flag_of_Suriname.svg" },
                { country: "–ì–∞–π–∞–Ω–∞", src: "https://upload.wikimedia.org/wikipedia/commons/9/99/Flag_of_Guyana.svg" },
                { country: "–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∞—è –ì–≤–∏–∞–Ω–∞", src: "https://upload.wikimedia.org/wikipedia/commons/2/29/Flag_of_French_Guiana.svg" },
                { country: "–°–µ–Ω—Ç-–õ—é—Å–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/9/9f/Flag_of_Saint_Lucia.svg" }
            ],
            northAmerica: [
                { country: "–°–®–ê", src: "https://upload.wikimedia.org/wikipedia/commons/a/a4/Flag_of_the_United_States.svg" },
                { country: "–ö–∞–Ω–∞–¥–∞", src: "https://upload.wikimedia.org/wikipedia/commons/c/cf/Flag_of_Canada.svg" },
                { country: "–ú–µ–∫—Å–∏–∫–∞", src: "https://upload.wikimedia.org/wikipedia/commons/f/fc/Flag_of_Mexico.svg" },
                { country: "–ì—Ä–µ–Ω–∞–¥–∞", src: "https://upload.wikimedia.org/wikipedia/commons/b/bc/Flag_of_Grenada.svg" },
                { country: "–ì–∞–∏—Ç–∏", src: "https://upload.wikimedia.org/wikipedia/commons/5/56/Flag_of_Haiti.svg" },
                { country: "–ö–æ—Å—Ç–∞-–†–∏–∫–∞", src: "https://upload.wikimedia.org/wikipedia/commons/f/f2/Flag_of_Costa_Rica.svg" },
                { country: "–ì–æ–Ω–¥—É—Ä–∞—Å", src: "https://upload.wikimedia.org/wikipedia/commons/8/82/Flag_of_Honduras.svg" },
                { country: "–ù–∏–∫–∞—Ä–∞–≥—É–∞", src: "http://upload.wikimedia.org/wikipedia/commons/1/19/Flag_of_Nicaragua.svg" },
                { country: "–ü–∞–Ω–∞–º–∞", src: "https://upload.wikimedia.org/wikipedia/commons/a/ab/Flag_of_Panama.svg" },
                { country: "–°–∞–ª—å–≤–∞–¥–æ—Ä", src: "https://upload.wikimedia.org/wikipedia/commons/3/34/Flag_of_El_Salvador.svg" },
                { country: "–ë–µ–ª–∏–∑", src: "https://upload.wikimedia.org/wikipedia/commons/e/e7/Flag_of_Belize.svg" },
                { country: "–ë–∞—Ä–±–∞–¥–æ—Å", src: "https://upload.wikimedia.org/wikipedia/commons/e/ef/Flag_of_Barbados.svg" },
                { country: "–Ø–º–∞–π–∫–∞", src: "https://upload.wikimedia.org/wikipedia/commons/0/0a/Flag_of_Jamaica.svg" },
                { country: "–¢—Ä–∏–Ω–∏–¥–∞–¥ –∏ –¢–æ–±–∞–≥–æ", src: "https://upload.wikimedia.org/wikipedia/commons/6/64/Flag_of_Trinidad_and_Tobago.svg" }
            ],
            oceania: [
                { country: "–ê–≤—Å—Ç—Ä–∞–ª–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/b/b9/Flag_of_Australia.svg" },
                { country: "–ù–æ–≤–∞—è –ó–µ–ª–∞–Ω–¥–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/3/3e/Flag_of_New_Zealand.svg" },
                { country: "–ü–∞–ø—É–∞-–ù–æ–≤–∞—è –ì–≤–∏–Ω–µ—è", src: "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg" },
                { country: "–§–∏–¥–∂–∏", src: "https://upload.wikimedia.org/wikipedia/commons/b/ba/Flag_of_Fiji.svg" },
                { country: "–°–∞–º–æ–∞", src: "https://upload.wikimedia.org/wikipedia/commons/3/31/Flag_of_Samoa.svg" },
                { country: "–¢–æ–Ω–≥–∞", src: "https://upload.wikimedia.org/wikipedia/commons/9/9a/Flag_of_Tonga.svg" },
                { country: "–í–∞–Ω—É–∞—Ç—É", src: "https://upload.wikimedia.org/wikipedia/commons/b/bc/Flag_of_Vanuatu.svg" },
                { country: "–ö–∏—Ä–∏–±–∞—Ç–∏", src: "https://upload.wikimedia.org/wikipedia/commons/d/d3/Flag_of_Kiribati.svg" },
                { country: "–ú–∏–∫—Ä–æ–Ω–µ–∑–∏—è", src: "https://upload.wikimedia.org/wikipedia/commons/e/e4/Flag_of_the_Federated_States_of_Micronesia.svg" },
                { country: "–ú–∞—Ä—à–∞–ª–ª–æ–≤—ã –û—Å—Ç—Ä–æ–≤–∞", src: "https://upload.wikimedia.org/wikipedia/commons/2/2e/Flag_of_the_Marshall_Islands.svg" },
                { country: "–ù–∞—É—Ä—É", src: "https://upload.wikimedia.org/wikipedia/commons/3/30/Flag_of_Nauru.svg" },
                { country: "–¢—É–≤–∞–ª—É", src: "https://upload.wikimedia.org/wikipedia/commons/3/38/Flag_of_Tuvalu.svg" },
                { country: "–ü–∞–ª–∞—É", src: "https://upload.wikimedia.org/wikipedia/commons/4/48/Flag_of_Palau.svg" },
                { country: "–°–æ–ª–æ–º–æ–Ω–æ–≤—ã –û—Å—Ç—Ä–æ–≤–∞", src: "https://upload.wikimedia.org/wikipedia/commons/7/74/Flag_of_the_Solomon_Islands.svg" }
            ]
        };

        function startGame(region) {
            currentRegion = region;
            flagList = flags[region];
            level = 0;
            currentScore = 0;
            lives = 3; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∂–∏–∑–Ω–∏ –ø—Ä–∏ –Ω–∞—á–∞–ª–µ –Ω–æ–≤–æ–π –∏–≥—Ä—ã
            usedFlags = []; // –û—á–∏—â–∞–µ–º —Å–ø–∏—Å–æ–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–ª–∞–≥–æ–≤
            document.getElementById("menu").style.display = "none";
            document.getElementById("game").style.display = "block";
            document.getElementById("game-over").innerText = ""; // –û—á–∏—â–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∏–≥—Ä—ã
            document.getElementById("score").innerText = `–û—á–∫–∏: ${currentScore} | –ñ–∏–∑–Ω–∏: ${lives}`;
            nextLevel();
        }

        function nextLevel() {
            if (lives <= 0) {
                document.getElementById("game-over").innerText = "–ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!";
                return;
            }

            level++;
            if (level > flagList.length) {
                level = 1; // –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ñ–ª–∞–≥–∞
            }

            const availableFlags = flagList.filter(flag => !usedFlags.includes(flag.src));
            if (availableFlags.length === 0) {
                document.getElementById("game-over").innerText = "–§–ª–∞–≥–∏ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å! –ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.";
                return;
            }

            const randomIndex = Math.floor(Math.random() * availableFlags.length);
            const currentFlag = availableFlags[randomIndex];
            usedFlags.push(currentFlag.src); // –î–æ–±–∞–≤–ª—è–µ–º —Ñ–ª–∞–≥ –≤ —Å–ø–∏—Å–æ–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö
            flagName = currentFlag.country;
            document.getElementById("flag").src = currentFlag.src;

            const options = generateOptions(flagName);
            displayOptions(options);
        }

        function generateOptions(correctAnswer) {
            let options = [correctAnswer];
            while (options.length < 4) {
                const randomFlag = flagList[Math.floor(Math.random() * flagList.length)].country;
                if (!options.includes(randomFlag)) {
                    options.push(randomFlag);
                }
            }

            options = shuffle(options);
            return options;
        }

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function displayOptions(options) {
            const optionsContainer = document.getElementById("options");
            optionsContainer.innerHTML = "";
            options.forEach(option => {
                const button = document.createElement("button");
                button.textContent = option;
                button.onclick = () => checkAnswer(option);
                optionsContainer.appendChild(button);
            });
        }

        function checkAnswer(answer) {
            const correctAnswer = flagName;
            const buttons = document.getElementById("options").getElementsByTagName("button");

            // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
            for (let button of buttons) {
                if (button.innerText === correctAnswer) {
                    button.classList.add("correct");
                } else if (button.innerText === answer) {
                    button.classList.add("incorrect");
                }
            }

            if (answer === correctAnswer) {
                currentScore++;
                document.getElementById("score").innerText = `–û—á–∫–∏: ${currentScore} | –ñ–∏–∑–Ω–∏: ${lives}`;
            } else {
                lives--;
                document.getElementById("score").innerText = `–û—á–∫–∏: ${currentScore} | –ñ–∏–∑–Ω–∏: ${lives}`;
                if (lives <= 0) {
                    document.getElementById("game-over").innerText = "–ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!";
                }
            }

            setTimeout(nextLevel, 1000);
        }

        function returnToMenu() {
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä—ã
            currentScore = 0;
            lives = 3;
            usedFlags = []; // –û—á–∏—â–∞–µ–º —Å–ø–∏—Å–æ–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–ª–∞–≥–æ–≤
            document.getElementById("menu").style.display = "flex";
            document.getElementById("game").style.display = "none";
        }
    </script>
</body>
</html>
